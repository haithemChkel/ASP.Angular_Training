<div *ngIf="this.flightEffectsService.saveFlightEffects$ | async"></div>
<div *ngIf="this.flightEffectsService.saveFlightEffectsFailure$ | async as error"> {{ error | json}}</div>
<div *ngIf="this.flightEffectsService.saveFlightEffectsSuccess$ | async as success"></div>

<form class="example-form" [formGroup]="flightForm" (ngSubmit)="onSubmit(flightForm.value)"
  *ngIf="this.vm$ | async as vm">
  <mat-form-field class="example-full-width">
    <mat-label>Flight Number</mat-label>
    <input matInput id="flightNumber" type="text" formControlName="flightNumber">
    <mat-error *ngIf="flightForm.controls.flightNumber.hasError('required')">Numéro de vol <strong>Obligatoire</strong></mat-error>
  </mat-form-field>
  <mat-form-field class="example-full-width">
    <mat-label> Departure Airport Code</mat-label>
    <input matInput id="departureAirportCode" type="text" formControlName="departureAirportCode">
    <mat-error *ngIf="flightForm.controls.departureAirportCode.hasError('required')">Aéroport de départ <strong>Obligatoire</strong></mat-error>
  </mat-form-field>
  <mat-form-field class="example-full-width">
    <mat-label> Arrival Airport Code</mat-label>
    <input matInput id="arrivalAirportCode" type="text" formControlName="arrivalAirportCode">
    <mat-error *ngIf="flightForm.controls.arrivalAirportCode.hasError('required')">Aéroport d'arrivé<strong>Obligatoire</strong></mat-error>
  </mat-form-field>
  <mat-form-field class="example-full-width">
    <mat-label> Date And Time Of Departure</mat-label>
    <input matInput id="dateAndTimeOfDeparture" type="datetime" formControlName="dateAndTimeOfDeparture">
    <mat-error *ngIf="flightForm.controls.dateAndTimeOfDeparture.hasError('required')">Date de départ <strong>Obligatoire</strong></mat-error>
  </mat-form-field>
  <mat-form-field class="example-full-width">
    <mat-label> Date And Time Of Arrival</mat-label>
    <input matInput id="dateAndTimeOfArrival" type="datetime" formControlName="dateAndTimeOfArrival">
    <mat-error *ngIf="flightForm.controls.dateAndTimeOfArrival.hasError('required')">Date d'arrivée  <strong>Obligatoire</strong></mat-error>
  </mat-form-field>
  <div class="example-full-width">
    <mat-label> Delay</mat-label>
    <input id="delay" type="checkbox" formControlName="delay">
  </div>
  <mat-form-field class="example-full-width">
    <mat-label> Price</mat-label>
    <input matInput id="price" type="number" formControlName="price">
    <mat-error *ngIf="flightForm.controls.price.hasError('required')">Prix <strong>Obligatoire</strong></mat-error>
  </mat-form-field>
  <button mat-raised-button color="primary" class="button" type="submit">Save</button>
</form>
